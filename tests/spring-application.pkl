amends "pkl:test"

import "../SpringApplication.pkl"
import "../renderer.pkl"

local class ExampleConfig {
  username: String
  @renderer.SecretField
  password: String
}

examples {
  ["spring application"] {
    new SpringApplication {
      resourcesRequests {
        cpu = 722
        memory = 122.mib
      }      
    }
  }
  ["spring application with jmx"] {
    new SpringApplication {
      resourcesRequests {
        cpu = 722
        memory = 122.mib
      }      
      debug = true
    }
  }
  ["spring application with secrets"] {
    new SpringApplication {
      config = new ExampleConfig {
        username = "admin"
        password = "secret"
      }
    }
  }
}
